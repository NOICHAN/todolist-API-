"use strict";(self["webpackChunktodolist_api"]=self["webpackChunktodolist_api"]||[]).push([[24],{6024:function(e,a,o){o.r(a),o.d(a,{default:function(){return b}});var s=o(3396),t=o(9242),l=o(4870),n=o(678);const i=e=>((0,s.dD)("data-v-cbd543ca"),e=e(),(0,s.Cn)(),e),r={class:"loginView bg-yellow js-view"},c={class:"conatiner loginPage vhContainer"},d=i((()=>(0,s._)("div",{class:"side"},[(0,s._)("a",{href:"#"},[(0,s._)("img",{class:"logoImg",src:"https://upload.cc/i1/2022/03/23/rhefZ3.png",alt:""})]),(0,s._)("img",{class:"d-m-n",src:"https://upload.cc/i1/2022/03/23/tj3Bdk.png",alt:"workImg"})],-1))),u={class:"formControls",action:"index.html"},m=i((()=>(0,s._)("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1))),p={class:"formControls_label",for:"email"},_=(0,s.Uk)("Email "),f={class:"formControls_label",for:"pwd"},g=(0,s.Uk)("密碼 "),w=(0,s.Uk)("註冊帳號");var k={__name:"LogIn",setup(e){const a=(0,s.f3)("axios"),o=(0,s.f3)("$swal"),i=(0,n.tv)(),k=(0,l.iH)({email:"",password:""}),h=async()=>{try{const{data:e,headers:s}=await a.post("users/sign_in",{user:k.value});document.cookie=`token=${s.authorization}; max-age=86400;`,document.cookie=`nickname=${e.nickname}`,a.defaults.headers.common.Authorization=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1"),o.fire({icon:"success",title:"成功",text:"登入成功。"}),i.push("/")}catch(e){o.fire({icon:"error",title:"失敗",text:`${e.response.data.message}`})}};return(e,a)=>{const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",c,[d,(0,s._)("div",null,[(0,s._)("form",u,[m,(0,s._)("label",p,[_,(0,s.wy)((0,s._)("input",{class:"formControls_input login_email",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":a[0]||(a[0]=e=>k.value.email=e)},null,512),[[t.nr,k.value.email]])]),(0,s._)("label",f,[g,(0,s.wy)((0,s._)("input",{class:"formControls_input login_password",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":a[1]||(a[1]=e=>k.value.password=e)},null,512),[[t.nr,k.value.password]])]),(0,s._)("input",{class:"formControls_btnSubmit login",type:"button",value:"登入",onClick:h}),(0,s.Wm)(o,{class:"formControls_btnLink js-signUpPage",to:"/signup"},{default:(0,s.w5)((()=>[w])),_:1})])])])])}}},h=o(89);const v=(0,h.Z)(k,[["__scopeId","data-v-cbd543ca"]]);var b=v}}]);
//# sourceMappingURL=24.cd2b5881.js.map